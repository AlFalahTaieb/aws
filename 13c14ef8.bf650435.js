(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{59:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return b})),n.d(t,"rightToc",(function(){return p})),n.d(t,"Highlight",(function(){return s})),n.d(t,"Quote",(function(){return d})),n.d(t,"StyledButton",(function(){return u})),n.d(t,"default",(function(){return h}));var r=n(2),o=n(6),a=(n(0),n(123)),i=n(314),c=n(143),l={id:"notes_Encryption",title:"Encryption",sidebar_label:"Encryption",author:"Taieb"},b={unversionedId:"notes_Encryption",id:"notes_Encryption",isDocsHomePage:!1,title:"Encryption",description:"export const Highlight = ({ children, color }) => (",source:"@site/docs/notes_encryption.mdx",slug:"/notes_Encryption",permalink:"/FAQ/docs/notes_Encryption",version:"current",sidebar_label:"Encryption"},p=[{value:"I. At-rest encryption",id:"i-at-rest-encryption",children:[]},{value:"II. In-flight encryption",id:"ii-in-flight-encryption",children:[]},{value:"III. Encrypting RDS backups",id:"iii-encrypting-rds-backups",children:[]},{value:"IV. Security",id:"iv-security",children:[]}],s=function(e){var t=e.children;e.color;return Object(a.b)("span",{style:{backgroundColor:"#FF9900",borderRadius:"5px",color:"#fff",padding:"0.1rem"}},t)},d=function(e){var t=e.children;e.color;return Object(a.b)("span",{style:{backgroundColor:"#5a5a5a",borderRadius:"7px",color:"#FF9900",padding:"0.3rem"}},t)},u=Object(c.a)({root:{background:"linear-gradient(315deg, #fc9842 0%, #fe5f75 74%)",borderRadius:7,border:0,color:"inherit",height:35,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},label:{textTransform:"capitalize"}})(i.a),y={rightToc:p,Highlight:s,Quote:d,StyledButton:u};function h(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},y,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"i-at-rest-encryption"},"I. At-rest encryption"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Possibility to encrypt the master and read replicas with KMS AES-256."),Object(a.b)("li",{parentName:"ol"},"Encryption has to be defined at launch time."),Object(a.b)("li",{parentName:"ol"},"If the master is not encrypted, the read replicas cannot be encrypted."),Object(a.b)("li",{parentName:"ol"},"Transparent Data Encryption (TDE) available for Oracle and SQL Server.")),Object(a.b)("h2",{id:"ii-in-flight-encryption"},"II. In-flight encryption"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"SSL certificates to encrypt data to RDS in flight."),Object(a.b)("li",{parentName:"ol"},"To enforce SSL:",Object(a.b)("ol",{parentName:"li"},Object(a.b)("li",{parentName:"ol"},"Pgsql: rds.force_ssl=l in the AWS RDS console"),Object(a.b)("li",{parentName:"ol"},"MySQL: within the db, GRANT USAGE ON ",Object(a.b)("em",{parentName:"li"},".")," TO 'mysqluser'@'%' REQUIRE SSL;"),Object(a.b)("li",{parentName:"ol"},"RDS enforces SSL by default")))),Object(a.b)("h2",{id:"iii-encrypting-rds-backups"},"III. Encrypting RDS backups"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"Snapshots of un-encrypted RDS databases are un-encrypted."),Object(a.b)("li",{parentName:"ol"},"Snapshots of encrypted RDS databases are encrypted."),Object(a.b)("li",{parentName:"ol"},"To encrypt an un-encrypted RDS instance,",Object(a.b)("ol",{parentName:"li"},Object(a.b)("li",{parentName:"ol"},"Create a snapshot of the un-encrypted one and enable encryption for the snapshot."),Object(a.b)("li",{parentName:"ol"},"Restore the db from the newly encrypted sanpshot."),Object(a.b)("li",{parentName:"ol"},"Move apps to the new encrypted db and delete the old one.")))),Object(a.b)("h2",{id:"iv-security"},"IV. Security"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"RDS databases are usually deployed within a private subnet, not in a public one."),Object(a.b)("li",{parentName:"ol"},"RDS security works by leveraging security groups (same as EC2) and control which IP/SG can talk to it."),Object(a.b)("li",{parentName:"ol"},"IAM policies control who can manage AWS RDS (through RDS API)."),Object(a.b)("li",{parentName:"ol"},"You can use traditional username/password or IAM-based auth to login your db. The latter only works for MySQL and Pgsql.",Object(a.b)("ol",{parentName:"li"},Object(a.b)("li",{parentName:"ol"},"Need a token using RDS call."),Object(a.b)("li",{parentName:"ol"},"It has a lifetime of 15 minutes.")))),Object(a.b)(u,{href:"/docs/notes_rds",mdxType:"StyledButton"},"Back to RDS"))}h.isMDXComponent=!0}}]);