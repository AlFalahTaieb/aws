(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{105:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return o})),a.d(t,"rightToc",(function(){return s})),a.d(t,"StyledButton",(function(){return p})),a.d(t,"default",(function(){return m}));var n=a(2),i=a(6),b=(a(0),a(123)),r=a(314),c=a(143),l={id:"notes_vpc_n",title:"Networking",author:"Taieb"},o={unversionedId:"notes_vpc_n",id:"notes_vpc_n",isDocsHomePage:!1,title:"Networking",description:"export const StyledButton = withStyles({",source:"@site/docs/notes_vpc_n.mdx",slug:"/notes_vpc_n",permalink:"/aws/docs/notes_vpc_n",version:"current"},s=[{value:"I. Basics",id:"i-basics",children:[]},{value:"II. CIDR",id:"ii-cidr",children:[]},{value:"III. Private vs Public",id:"iii-private-vs-public",children:[]}],p=Object(c.a)({root:{background:"linear-gradient(315deg, #fc9842 0%, #fe5f75 74%)",borderRadius:7,border:0,color:"inherit",height:35,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},label:{textTransform:"capitalize"}})(r.a),u={rightToc:s,StyledButton:p};function m(e){var t=e.components,r=Object(i.a)(e,["components"]);return Object(b.b)("wrapper",Object(n.a)({},u,r,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"i-basics"},"I. Basics"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"There are two types of IPs - Public and Private"),Object(b.b)("ol",{parentName:"li"},Object(b.b)("li",{parentName:"ol"},"Public IP: It is unique and can be easily identified on the internet"),Object(b.b)("li",{parentName:"ol"},"Private IP: It is not unique and can only be identified in a private network"))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Private IPs can talk on internet when attached to NAT + Internet Gateway.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},Object(b.b)("strong",{parentName:"p"},"An elastic IP is a static IP unless you delete it. AWS provides up to 5 elastic IPs. Avoid it and use DNS name instead."))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"An example IP is written as 192.168.1.0. The Classless Inter-Domain Routing  (CIDR) notation would be 192.168.1.0/24")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"We can then find out the subnet mask from /24. Here, 24 means the first 24 bits are on. ")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"/24 = 11111111.11111111.11111111.00000000 = 255.255.255.0")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Hence, the subnet mask for our network is 255.255.255.0 which means that we can add 254 devices to our network without worrying about gateways etc."))),Object(b.b)("p",null,Object(b.b)("img",{alt:"VPC AWS",src:a(240).default})),Object(b.b)("h2",{id:"ii-cidr"},"II. CIDR"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"They help define an IP address range")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"A CIDR has two components"),Object(b.b)("ol",{parentName:"li"},Object(b.b)("li",{parentName:"ol"},"Base IP (1.2.3.4)"),Object(b.b)("li",{parentName:"ol"},"Subnet mask (/26)"))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"The base IP represents an IP contained in a range")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Subnet CIDR cannot overlap")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"All subnets must have an associated route table")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Max CIDR size in AWS is /16 ")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"The subnet mask defines how many bits can change in the IP")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"The subnet mask can take two forms"),Object(b.b)("ol",{parentName:"li"},Object(b.b)("li",{parentName:"ol"},"255.255.255.0 (less common)"),Object(b.b)("li",{parentName:"ol"},"/24 (more common) ")))),Object(b.b)("p",null,Object(b.b)("img",{alt:"VPC AWS",src:a(241).default})),Object(b.b)("p",null,Object(b.b)("img",{alt:"VPC AWS",src:a(242).default})),Object(b.b)("h2",{id:"iii-private-vs-public"},"III. Private vs Public"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"IANA mandates certain blocks of IPv4 addresses to private and rest to public.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"For private IPs, "),Object(b.b)("ol",{parentName:"li"},Object(b.b)("li",{parentName:"ol"},"Big networks \u2192 10.0.0.0 \u2014 10.255.255.255 (10.0.0.0/8)"),Object(b.b)("li",{parentName:"ol"},"Default AWS VPC \u2192 172.16.0.0 \u2014 172.31.255.255 (172.16.0.0/12)"),Object(b.b)("li",{parentName:"ol"},"Home networks \u2192 192.168.0.0 \u2014 192.168.255.25 (192.168.0.0/16)"))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Everything else is public IP.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},Object(b.b)("strong",{parentName:"p"},"You cannot change the size of an existing CIDR block!"))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"When you associate a CIDR block with your VPC, a route table entry is automatically created with the target as ",Object(b.b)("strong",{parentName:"p"},"local"))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"The CIDR block is ready for use when it is in the ",Object(b.b)("inlineCode",{parentName:"p"},"associated")," state.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Elastic IPs are static IPs that you own unless you release them. Avoid using it.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Try using random public IPs and associate them with a DNS name.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},Object(b.b)("strong",{parentName:"p"},"Best way is to use ELB and not use public IP at all."))),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},Object(b.b)("strong",{parentName:"p"},"Private subnets do not have a routing table entry to an internet gateway.")," They are not directly accessible from the public internet. Typically use a NAT gateway to support restricted, outbound public internet access. NAT gateways MUST be on public subnet.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"For public subnets, they include a routing table entry to an IGW to support inbound/outbound access to the public internet.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Security Groups are stateful (automatically allow response after a request)")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"NACL act as firewall for subnet. They intake rule based on numbers (100, 200 etc). There's a default NACL for every subnet."))),Object(b.b)(p,{href:"/docs/notes_vpc",mdxType:"StyledButton"},"Back to VPC"))}m.isMDXComponent=!0},240:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/vpc33-bf94de548718c15d47f9f24ef509e3cf.png"},241:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/vpc35-5c688d6af5823579fdd7c04c1a85ef25.png"},242:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/vpc34-284d79e8257d420964c7d26853b154b1.png"}}]);