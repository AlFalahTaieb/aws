<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">CloudFront | AWS SAA-C02 Ressources</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="CloudFront | AWS SAA-C02 Ressources"><meta data-react-helmet="true" name="description" content="export const Quote = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:description" content="export const Quote = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:url" content="https://AlFalahTaieb.github.io/aws/docs/notes_cf"><link data-react-helmet="true" rel="shortcut icon" href="/aws/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://AlFalahTaieb.github.io/aws/docs/notes_cf"><link rel="stylesheet" href="/aws/styles.d664286d.css">
<link rel="preload" href="/aws/styles.e3d237d5.js" as="script">
<link rel="preload" href="/aws/runtime~main.5987bc8c.js" as="script">
<link rel="preload" href="/aws/main.db8832c0.js" as="script">
<link rel="preload" href="/aws/2.eacc328a.js" as="script">
<link rel="preload" href="/aws/3.5084f581.js" as="script">
<link rel="preload" href="/aws/66.73ad6aef.js" as="script">
<link rel="preload" href="/aws/67.520034c4.js" as="script">
<link rel="preload" href="/aws/935f2afb.52a1d31c.js" as="script">
<link rel="preload" href="/aws/17896441.17a33e11.js" as="script">
<link rel="preload" href="/aws/1969f7a5.fc466fc9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" target="_self" href="/aws/docs/start"><img class="navbar__logo" src="/aws/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aws/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taieb</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" target="_self" href="/aws/docs/start"><img class="navbar__logo" src="/aws/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/aws/docs/">Docs</a></li><li class="menu__list-item"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taieb</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">AWS Certified Solutions Architect Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/start">Getting Started üèéÔ∏è</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/raz">Regions &amp; AZ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sg">Security Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_iam">IAM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ec2">EC2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_asg">ASG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_elb">ELB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ebs_efs">EBS &amp; EFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_fsx">FSx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_s3">S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_storage_ex">Storage Extras</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_athena">Athena</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_datasync">DataSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cli_sdk">CLI &amp; SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_rds">RDS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_redshift">Redshift</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_lambda">Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_dynamodb">DynamoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_apig">API Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cognito">Cognito</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ec">ElastiCache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_r53">Route 53</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/aws/docs/notes_cf">CloudFront</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_bs">BeanStalk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sqs">SQS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sns">SNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_kenesis">Kenesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cw">CloudWAtch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ct">CloudTrail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_kms">KMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ssm">SSM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sw">Shield &amp; WAF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_vpc">VPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ecs">ECS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cfm">CloudFormation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ss">SWF &amp; Step Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_os">Other Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_dr">Disaster Recovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_hpc">HPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_fp">Five Pillars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes">Notes for AWS Certified Solutions Architect Associate</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">CloudFront</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="i-introduction"></a>I. Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#i-introduction" title="Direct link to heading">#</a></h2><ol><li>AWS offered CDN that improves read performance because the content is cached at the edge lcoations.</li><li>Edge locations are far more prevalent than AZs and regions.</li><li>It also provides DDoS protection and WAF. Can expose external HTTPS and internal HTTPS backends.</li><li>Not good for highly dynamic content, use S3 CRR/GA instead.</li><li>General architecture</li></ol><p><img alt="CloudFront AWS" src="/aws/assets/images/cf1-00e113bda79a1033924abcce1c03e5ff.png"></p><ol start="5"><li>With S3</li></ol><p><img alt="CloudFront AWS" src="/aws/assets/images/cf2-92581357e177bdb1019a6dd72ebec7df.png"></p><ol start="6"><li>With EC2 (simple and ELB)</li></ol><p><img alt="CloudFront AWS" src="/aws/assets/images/cf3-0c27edef5ccb0914694a048a3d50b863.png"></p><p><strong>7. CloudFront also allows geofencing where you can whitelist/blacklist countries.</strong></p><ol start="8"><li><p>CloudFront vs S3</p></li><li><p>CloudFront</p><ol><li>Global edge netowrk</li><li>Files are cached for a TTL</li><li>Great for static content that must be available everywhere</li></ol></li><li><p>S3 cross-region replication</p><ol><li>Must be setup for each region you want replication to happen</li><li>Files are updated in near real time</li><li>Read only</li><li>Great for dynamic content that needs to be available at low latency in few regions</li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ii-signed-urls"></a>II. Signed URLs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ii-signed-urls" title="Direct link to heading">#</a></h2><ol><li><p>You can securely distribute content with target users without making it public.</p></li><li><p>We can attach a policy with</p><ol><li>URL expiration</li><li>IP ranges to access data from</li><li>Trusted signers</li></ol></li><li><p>Signed URL = access to a single file</p></li><li><p>Signed cookie = access to multiple files</p></li></ol><p><img alt="ClouDfront" src="/aws/assets/images/cf4-365739cf1e880fdf9194a33413439a2c.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iii-global-accelerator"></a>III. Global Accelerator<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iii-global-accelerator" title="Direct link to heading">#</a></h2><ol><li><p>AWS Global Accelerator and Amazon CloudFront are separate services that use the AWS global network and its edge locations around the world.</p></li><li><p>Global Accelerator improves performance for a wide range of applications over TCP or UDP by <strong>proxying packets at the edge to applications</strong> running in one or more AWS Regions. Global Accelerator is a good fit for non-HTTP use cases, such as gaming (UDP), IoT (MQTT), or Voice over IP, as well as for HTTP use cases that specifically require static IP addresses or deterministic, fast regional failover.</p></li><li><p><strong>It provides static IP addresses that act as a fixed entry point to your application endpoints in a single or multiple regions, such as your ALB, NLB or EC2 instances.</strong></p></li><li><p>With AWS Global Accelerator, you can add or remove endpoints in the AWS Regions, run blue/green deployment, and A/B test without needing to update the IP addresses in your client applications.</p></li><li><p>Used to reduce latency and server hops to make your users reach your content faster.</p></li><li><p>By default, Global Accelerator provides you with two static IP addresses that you associate with your accelerator.</p></li><li><p>Traffic traverses global network</p></li><li><p>Integrates with Shield for DDoS protection</p></li><li><p>Works with Elastic IP, EC2, and ELB.</p></li><li><p>Health checks comes by default</p></li><li><p>Important to know the difference between Unicast and Anycast IP.</p><ol><li>Unicast: Unique server, unique IP</li><li><strong>Anycast: Any server, one IP</strong></li></ol></li><li><p>Consistent performance</p><ol><li>Intelligent routing to lowest latency and fast regional failover</li><li>No issue with client cache</li><li>Internal AWS network</li></ol></li><li><p>Security</p><ol><li>Only 2 external IP need to be whitelisted</li><li><strong>DDoS protection, thanks to AWS Shield (basic) that comes by default</strong></li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iv-cloudfront-vs-ga"></a>IV. CloudFront vs GA<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iv-cloudfront-vs-ga" title="Direct link to heading">#</a></h2><p><strong>CloudFront</strong></p><ol><li>Regular CDN to deliver static content.</li><li>Uses multiple sets of dynamically changing IPs</li><li>Pricing is mainly based on data transfer OUT (both internet and origin)</li><li>Only HTTP/HTTPS</li></ol><p><strong>GA</strong></p><ol><li>GA is a service that uses edge locations to look for optimal pathway for users to apps.</li><li>Provides a set of static IPs</li><li>Charges fixed hourly fee</li><li>Supports HTTP, TCP, UDP</li><li>Good for RT apps like VoIP</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="v-signed-urls"></a>V. Signed URLs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#v-signed-urls" title="Direct link to heading">#</a></h2><p><strong>CloudFront signed URL</strong></p><ol><li>Can restrict access to both content in edge cache or origin (S3 bucket)</li><li>Can create a signed URL or signed cookie (multiple files)</li></ol><p><strong>S3 Pre-signed URL</strong></p><ol><li>Can create a pre-signed URL to share private content.</li><li>You need to specify security credentials, expiration and HTTP method while creating.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="vi-cloudfront-tips"></a>VI. CloudFront Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vi-cloudfront-tips" title="Direct link to heading">#</a></h2><ol><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Only CloudFront/WAF can block traffic by country, security groups cannot.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">You can use an OAI to restrict access to content in Amazon S3 but not on EC2 or ELB.</span></li><li>Using Amazon CloudFront as the front-end provides the option to specify a custom message instead of the default message. To specify the specific file that you want to return and the errors for which the file should be returned, you update your CloudFront distribution to specify those values. </li><li>CloudFront can work alongside Route53 geo-proximity based routing. In that case Route53 would send the user to the nearest edge location.</li><li>Amazon CloudFront supports content that can be sent using the HTTP or WebSocket protocols. This includes dynamic web pages and applications, such as HTML or PHP pages or WebSocket-based applications, and any popular static files that are a part of your web application, such as website images, audio, video, media files or software downloads. Amazon CloudFront also supports delivery of live or on-demand media streaming over HTTP.</li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">You can serve custom error pages for 4xx and 5xx codes. This is a simpler method than Route 53 active-passive failover.</span></li><li>Default TTL at edge locations is 24 hours.</li><li>CloudFront is both HIPAA and PCI compliant.</li><li>Does not cache responses to POST, PUT, PATCH and DELETE</li><li>CloudFront has an optional private content feature. When this option is enabled, Amazon CloudFront will only deliver files when you say it is okay to do so by securely signing your requests.</li><li>Yes, you can configure Amazon CloudFront to add custom headers, or override the value of existing headers, to requests forwarded to your origin.</li><li>Amazon CloudFront supports delivery of dynamic content that is customized or personalized using HTTP cookies. To use this feature, you specify whether you want Amazon CloudFront to forward some or all of your cookies to your custom origin server. Amazon CloudFront then considers the forwarded cookie values when identifying a unique object in its cache. This way, your end users get both the benefit of content that is personalized just for them with a cookie and the performance benefits of Amazon CloudFront. You can also optionally choose to log the cookie values in Amazon CloudFront access logs.</li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">You can use query string parameters in the URL with CloudFront</span></li><li>Supports gzip, just specify <code>Accept-Encoding: gzip</code> in the request header</li><li>Yes, Amazon CloudFront provides you with multiple options to deliver on-demand video content.</li><li>The maximum size of a single file that can be delivered through Amazon CloudFront is 20 GB. This limit applies to all Amazon CloudFront distributions.</li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">CloudFront provides two ways to log the requests that are delivered from your distributions: Standard logs (to S3) and Real-time logs (to Kinesis).</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Can specify multiple origins to tackle failover.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Perfect Forward Secrecy</span> is a feature that provides additional safeguards against the eavesdropping of encrypted data, through the use of a unique random session key. This prevents the decoding of captured data, even if the secret long-term key is compromised. **CloudFront and ELB are the two AWS services that support Perfect Forward Secrecy.**</li><li>To allow multiple domains to serve SSL traffic without the need to re-auth and re-provision your certificate every time you adds a new domain, you can upload all SSL certificates of the domains in the ALB using the console and bind multiple certificates to the same secure listener on your load balancer. ALB will automatically choose the optimal TLS certificate for each client using Server Name Indication (SNI).</li><li>You can also set up CloudFront with origin failover for scenarios that require high availability. An origin group may contain two origins: a primary and a secondary. If the primary origin is unavailable or returns specific HTTP response status codes that indicate a failure, CloudFront automatically switches to the secondary origin. To set up origin failover, you must have a distribution with at least two origins.</li><li>You can create a static website using Amazon S3 with a custom domain name. However, you cannot connect to an Amazon S3 static website using HTTPS (only HTTP) so this solution does not work. <strong>Must use CloudFront + S3 for hosting static sites over HTTPS</strong>.</li><li>When given a choice between CloudFront and GA for simple tasks, choose CloudFront as it&#x27;s cheaper.</li><li>Look for the following keywords if you think GA is the answer.<ol><li>Traffic traverses AWS global network</li><li>Static IP</li><li>Auto failover</li><li>Deterministic routing</li><li>Real-time apps, VoIP</li><li>A/B testing</li></ol></li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/aws/docs/notes_r53"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Route 53</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/aws/docs/notes_bs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">BeanStalk ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#i-introduction" class="table-of-contents__link">I. Introduction</a></li><li><a href="#ii-signed-urls" class="table-of-contents__link">II. Signed URLs</a></li><li><a href="#iii-global-accelerator" class="table-of-contents__link">III. Global Accelerator</a></li><li><a href="#iv-cloudfront-vs-ga" class="table-of-contents__link">IV. CloudFront vs GA</a></li><li><a href="#v-signed-urls" class="table-of-contents__link">V. Signed URLs</a></li><li><a href="#vi-cloudfront-tips" class="table-of-contents__link">VI. CloudFront Tips</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/aws/styles.e3d237d5.js"></script>
<script src="/aws/runtime~main.5987bc8c.js"></script>
<script src="/aws/main.db8832c0.js"></script>
<script src="/aws/2.eacc328a.js"></script>
<script src="/aws/3.5084f581.js"></script>
<script src="/aws/66.73ad6aef.js"></script>
<script src="/aws/67.520034c4.js"></script>
<script src="/aws/935f2afb.52a1d31c.js"></script>
<script src="/aws/17896441.17a33e11.js"></script>
<script src="/aws/1969f7a5.fc466fc9.js"></script>
</body>
</html>