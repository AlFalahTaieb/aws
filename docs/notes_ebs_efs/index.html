<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">EBS &amp; EFS | AWS SAA-C02 Ressources</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="EBS &amp; EFS | AWS SAA-C02 Ressources"><meta data-react-helmet="true" name="description" content="export const Highlight = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:description" content="export const Highlight = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:url" content="https://AlFalahTaieb.github.io/aws/docs/notes_ebs_efs"><link data-react-helmet="true" rel="shortcut icon" href="/aws/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://AlFalahTaieb.github.io/aws/docs/notes_ebs_efs"><link rel="stylesheet" href="/aws/styles.d664286d.css">
<link rel="preload" href="/aws/styles.e3d237d5.js" as="script">
<link rel="preload" href="/aws/runtime~main.5987bc8c.js" as="script">
<link rel="preload" href="/aws/main.db8832c0.js" as="script">
<link rel="preload" href="/aws/2.eacc328a.js" as="script">
<link rel="preload" href="/aws/3.5084f581.js" as="script">
<link rel="preload" href="/aws/66.73ad6aef.js" as="script">
<link rel="preload" href="/aws/67.520034c4.js" as="script">
<link rel="preload" href="/aws/935f2afb.52a1d31c.js" as="script">
<link rel="preload" href="/aws/17896441.17a33e11.js" as="script">
<link rel="preload" href="/aws/a4a26640.8cf94a4c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" target="_self" href="/aws/docs/start"><img class="navbar__logo" src="/aws/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aws/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taieb</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" target="_self" href="/aws/docs/start"><img class="navbar__logo" src="/aws/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/aws/docs/">Docs</a></li><li class="menu__list-item"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taieb</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">AWS Certified Solutions Architect Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/start">Getting Started üèéÔ∏è</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/raz">Regions &amp; AZ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sg">Security Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_iam">IAM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ec2">EC2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_asg">ASG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_elb">ELB</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/aws/docs/notes_ebs_efs">EBS &amp; EFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_fsx">FSx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_s3">S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_storage_ex">Storage Extras</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_athena">Athena</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_datasync">DataSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cli_sdk">CLI &amp; SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_rds">RDS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_redshift">Redshift</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_lambda">Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_dynamodb">DynamoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_apig">API Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cognito">Cognito</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ec">ElastiCache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_r53">Route 53</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cf">CloudFront</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_bs">BeanStalk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sqs">SQS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sns">SNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_kenesis">Kenesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cw">CloudWAtch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ct">CloudTrail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_kms">KMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ssm">SSM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_sw">Shield &amp; WAF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_vpc">VPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ecs">ECS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_cfm">CloudFormation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_ss">SWF &amp; Step Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_os">Other Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_dr">Disaster Recovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_hpc">HPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes_fp">Five Pillars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/aws/docs/notes">Notes for AWS Certified Solutions Architect Associate</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">EBS &amp; EFS</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="i-introduction"></a>I. Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#i-introduction" title="Direct link to heading">#</a></h2><ol><li>Elastic Block Storage (EBS) is a network drive that you can attach to your instances while they run. It allows your instance to persist data.</li><li>Well suited for use as the primary storage for file systems, databases, or for any application that requires fine granular updates and access to raw, unformatted, block level storage.</li><li>You can mount multiple volumes on the same EC2 instance and vice versa (multi-attach).</li><li>Termination protection is turned off by default and must be enabled manually.</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">It&#x27;s locked to an AZ.</span>6. In the same AZ, you can detach from one EC2 and attach to another. To move a volume, you need to snapshot it.</li><li>Have a provisioned capacity (GB, IOPS).</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Only GP2 and IO1 can be chosen while launching an instance.</span></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ii-types-of-ebs"></a>II. Types of EBS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ii-types-of-ebs" title="Direct link to heading">#</a></h2><ol><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">GP2 ‚Äî General Purpose SSD</span><ol><li>General purpose SSD volume that balances price (cheap) and performance</li><li>Recommended for most workloads</li><li>System boot volumes</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Virtual desktops, low latency interactive apps</span>    5. Development and test environments</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Size: 1GB - 16TB</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">3 IOPS per GB, maxes out at 16,000</span></li></ol></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">IO1 and IO2 ‚Äî Provisioned IOPS SSD</span><ol><li>High perf SSD for low latency and critical apps/db (IOPS &gt; 16,000)</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Size: 4 GB - 16TB</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">10 IOPS per GB</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Good for large scale db where low latency might be required</span></li><li>Min: 100, Max: 64000 (nitro instances) OR 32000 (regular instances)</li></ol></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">ST1 ‚Äî Throughput optimized HDD</span><ol><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Low cost HDD for frequent (sequential) reads</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">NOT good for random reads</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Used in data warehousing, log processing, MapReduce, streaming workloads</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Cannot be a boot volume</span></li><li>Size: 500GB - 16TB</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Max IOPS is 500</span></li></ol></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">SC1 ‚Äî  Cold HDD</span><ol><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Lowest cost for infrequent reads</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Good for database and backups (store and forget)</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Cannot be a boot volume</span></li><li>Size: 500GB - 16TB</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Max IOPS is 250</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Max throughput of 250MB/s, can burst</span></li><li>Attaching both ST1 and SC1 is not supported at this time </li></ol></li></ol><p><img alt="Price Strg" src="/aws/assets/images/pricestrg-e6cfd433dc11b0cb70917098745bd548.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iii-ebs-snapshots"></a>III. EBS Snapshots<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iii-ebs-snapshots" title="Direct link to heading">#</a></h2><ol><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Incremental - only backup changed blocks.</span></li><li>Backups use IO so do it during downtime e.g. 2am-3am</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Snapshots are stored in S3 but you can&#x27;t directly see it, only available through EC2 API.</span></li><li>Each snapshot is given a unique identifier, and customers can create volumes based on any of their existing snapshots.</li><li>Not necessary to detach volume during snapshot but recommended.</li><li>Max 100,000 snapshots.</li><li>Can copy snapshots across AZ or region.</li><li>Can make AMI from snapshot</li><li>EBS volumes restored by snapshots need to be pre-warmed (using fio or dd commands).</li><li>Snapshots can be automated using Amazon Data Lifecycle Manager (DLM).</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Snapshots occur async and do not interfere with the normal functioning of EBS.</span></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iv-ebs-migration"></a>IV. EBS Migration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iv-ebs-migration" title="Direct link to heading">#</a></h2><ol><li>EBS volumes are locked to a specific AZ.</li><li>To migrate it to a different AZ (or region):<ol><li>Snapshot the volume</li><li>Copy the volume to a different region</li><li>Create a volume from the snapshot in the AZ of your choice</li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="v-ebs-encryption"></a>V. EBS Encryption<a aria-hidden="true" tabindex="-1" class="hash-link" href="#v-ebs-encryption" title="Direct link to heading">#</a></h2><ol><li><p>Creating an encrypted EBS enables</p><ol><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Data at rest encryption for the EBS</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">All the data in flight moving between the instance and volume is encrypted</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">All snapshots are encrypted</span></li></ol></li><li><p>Encryption and decryption is handled by KMS (w/ AES 256). </p></li><li><p>It has a minimal impact on latency.</p></li><li><p>Snapshots of encrypted volumes are encrypted.</p></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">You can have encrypted an unencrypted EBS volumes attached at the same time.</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">All EBS volume types support encryption and all instance families now support encryption too.</span></li><li><p>Supports encryption of boot volumes as well (GP2, IO1, IO2).</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="vi-instance-store"></a>VI. Instance Store<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vi-instance-store" title="Direct link to heading">#</a></h2><ol><li><p>Some instances do not come with root EBS volumes but an &quot;Instance Store&quot;.</p></li><li><p>Instance stores are <span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">ephemeral</span> storages and physically attached to machine, unlike EBS which is a network drive.</p></li><li><p>When using an Instance store-backed root volume, any data on the instance store volumes persists as long as the instance is running, but this data is deleted when the instance is terminated (<span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">instance store-backed instances do not support the <code>Stop</code> action</span>) or if it fails (such as if an underlying drive has issues).</p></li><li><p>The pros are</p><ol><li>Very high IOPS (&gt;100,000)</li><li>Good for buffer/cache/scratch data</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Data survives reboot</span></li><li>Disk size is up to 7.5TB</li><li>Block storage (just like EBS)</li></ol></li><li><p>The cons are</p><ol><li>The data is lost on stop or terminate</li><li>Cannot be resized</li><li>Backups are manual</li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="vii-ebs-raid"></a>VII. EBS RAID<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vii-ebs-raid" title="Direct link to heading">#</a></h2><ol><li><p>EBS is somewhat already redundant (replicated within AZ) but RAID can be helpful if you want to</p><ol><li>Increase IOPS to 100,000</li><li>Mirror EBS volumes</li></ol></li><li><p>RAID is possible as long as your OS supports it (Mac, Windows). Some RAID options are</p><ol><li>RAID 0</li><li>RAID 1</li><li>RAID 5 (not recommended)</li><li>RAID 6 (not recommended)</li></ol></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">RAID 0 (Series)</span>1. Combining two or more volumes and getting the total disk space and IO 2. If one disk fails, all data is gone 3. Useful when high IOPS is needed but not fault-tolerance OR when a database has it already built-in 4. This allows us to have a very big disk with lot of IOPS 5. For instance, two 500 GB EBS instances with 4,000 PIOPS would combine to become a 1,000 GB RAID 0 array with 8,000 PIOPS and 1000 MB/s throughput</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">RAID 1 (Parallel)</span>1. Data is written to all underlying EBS volumes (mirror) 2. This increases fault tolerance 3. Low network throughput because of multiple writes 4. For instance, two 500 GB EBS instances with 4,000 PIOPS would combine to become a 500 GB RAID 1 array with 4,000 PIOPS and 500 MB/s throughput</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="viii-efs"></a>VIII. EFS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#viii-efs" title="Direct link to heading">#</a></h2><ol><li><p>Elastic File System (EFS) is a managed network storage.</p></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">It can applied to multiple EC2 instances across AZs.</span></li><li><p>Highly available, scalable and expensive (3x of GP2) but pay per use</p></li><li><p>It uses standard NFSv4.1 protocol.</p></li><li><p>Cannot be mounted on Windows instances.</p></li><li><p>Used in web apps, CMS etc.</p></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Encryption at rest using KMS and in-flight with HTTPS</span>. No effect on throughput.</li><li><p>POSIX file system that has a standard file API.</p></li><li><p>File system scales automatically, pay per use so no capacity planning.</p></li><li><p>You can control who can administer your file system using IAM. You can control access to files and directories with <span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">POSIX-compliant user and group-level permissions</span>. POSIX permissions allows you to restrict access from hosts by user and group. EFS Security Groups act as a firewall, and the rules you add define the traffic flow.</p></li><li><p>Scale</p><ol><li>Can support 1000s of concurrent NFS clients, 10GB/s throughput.</li><li>Can automatically grow to petabyte-scale file system.</li></ol></li><li><p>Performance mode (set at EFS creation time)</p><ol><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">General purpose (default): For latency-sensitive use cases</span></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Max IO: Higher latency and throughput, highly parallel (big data, media processing)</span></li></ol></li><li><p>Storage Tiers</p><ol><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Standard:</span> For frequently accessed files</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Infrequent Access (EFS-IA):</span> Cheap to store but pay-per-retrieval</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ix-ebs-vs-efs"></a>IX. EBS vs EFS<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ix-ebs-vs-efs" title="Direct link to heading">#</a></h2></li><li><p>EBS volumes</p><ol><li><p>can be attached to only one instance at a time</p></li><li><p>are locked at AZ level</p></li><li><p>16TB for one volume</p></li><li><p>provide lowest latency to parent EC2</p></li><li><p>common types include GP2, IO1</p></li><li><p>pay structure is up front</p></li><li><p>used for boot volumes</p></li><li><p>Offer durable snapshots for backups</p></li><li><p>To migrate an EBS volume across AZ</p><ol><li>Take a snapshot</li><li>Restore the snapshot to another AZ</li></ol></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Root EBS volumes of instances get terminated by default</span>if the EC2 instance gets terminated (you can disable it though).</li></ol></li><li><p>EFS volumes</p></li><li><p>can be mounted to 1000s of instances across AZs</p></li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">only available for Linux instances</span>3. costlier than EBS, EFS-IA is cheaper though</li><li><p>billed only for usage</p></li><li><p>unlimited size</p></li><li><p>not used for boot volumes</p></li><li><p>EFS-EFS replication through DataSync</p></li><li><p>can be integrated with on-prem</p></li></ol><p><img alt="EFS AWS " src="/aws/assets/images/EFS-8365350b0c89d0be8631b8ac68e056aa.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="x-efs-tips"></a>X. EFS Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#x-efs-tips" title="Direct link to heading">#</a></h2><ol><li>EFS provides shared access to data using a traditional file sharing permissions model and hierarchy directory structure via NFS protocol. S3 is more about object storage that is massively scalable, durable and low-cost.</li><li>EFS can share data across 1000s of machines.</li><li>Compatible with all AMIs.</li><li>You can securely sync data between NFS-EFS or EFS-EFS through AWS DataSync over DirectConnect or AWS VPN (= VPG + Customer Gateway).</li><li>You can save costs by moving data to EFS IA using a lifecycle policy. If you further disable IA, no new files will be moved but all existing files will stay there.</li><li>Files smaller than 128KB are not eligible for EFS IA.</li><li>Supports multi-AZ.</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">You can create backups using AWS Backup.</span>9. Provisioned Throughput enables EFS customers to provision their system&#x27;s throughput independent of the data they need. In this mode, you are billed separately for throughput and storage.</li><li>You can grow or shrink the throughput whenever you want.</li><li>You control which EC2 instances can access VPC using VPC security group rules.</li><li>EFS Access Points provide a IAM-enabled API of accessing your file system.</li><li>You can concurrently access EFS from on-prem datacenters as well as EC2 instances in the cloud.</li><li>The file names do not need to be globally unique.</li><li>EFS can be integrated with ECS and EKS.</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">Does NOT work for windows</span></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="xi-ebs-tips"></a>XI. EBS Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#xi-ebs-tips" title="Direct link to heading">#</a></h2><ol><li>EBS Standard has been renamed to EBS Magnetic Volumes (to avoid confusion with GP2).</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">If EBS is attached to an EC2 instance and if it&#x27;s stopped, you still have to pay for EBS.</span></li><li>ST1 and SC1 process IOs in chunks of 1 MBs. They won&#x27;t perform well on random small IO situations e.g. database.</li><li>You can stripe multiple volumes together to achieve up to 80k IOPS or 2.3GB/s when attached to a larger EC2 instance. However, performance for ST1 and SC1 scales linearly with volume size so there may not be as much of a benefit to stripe these volumes together.</li><li>You will be billed for provisioned IOPS even in a detached state. It is recommended to create a snapshot when a volume is not in use to reduce costs.</li><li>You can detach an EBS volume from an instance explicitly or by terminating the instance. However, if the instance is running, you must first &quot;unmount&quot; the volume.</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">If the EBS volume is the root device of an instance, you must stop the instance before detaching the volume.</span></li><li>You only need the most recent snapshot to create the full volume because snapshots are incremental.</li><li>You cannot use a block device mapping to specify a snapshot, EFS volume or S3 bucket.</li><li>An EC2 status check on an EBS volume is showing as <code>insufficient-data</code> ‚Üí The checks may still be in progress on the volume.</li><li><span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">The volume does not need a certain amount of data on it to be checked properly.</span></li><li>Want to attach EBS volume to EC2 instance inside CloudFormation ‚Üí <span style="background-color:#FF9900;border-radius:5px;color:#fff;padding:0.1rem">specify both EC2 and EBS logical IDs.</span></li><li>Tips for improving performance<ol><li>Use EBS-optimized instances</li><li>Understand your workload</li><li>Use a modern linux kernel</li><li>Track performance using CloudWatch</li><li>Use RAID 0 to maximize utilization of instance resources</li></ol></li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/aws/docs/notes_elb"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ ELB</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/aws/docs/notes_fsx"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FSx ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#i-introduction" class="table-of-contents__link">I. Introduction</a></li><li><a href="#ii-types-of-ebs" class="table-of-contents__link">II. Types of EBS</a></li><li><a href="#iii-ebs-snapshots" class="table-of-contents__link">III. EBS Snapshots</a></li><li><a href="#iv-ebs-migration" class="table-of-contents__link">IV. EBS Migration</a></li><li><a href="#v-ebs-encryption" class="table-of-contents__link">V. EBS Encryption</a></li><li><a href="#vi-instance-store" class="table-of-contents__link">VI. Instance Store</a></li><li><a href="#vii-ebs-raid" class="table-of-contents__link">VII. EBS RAID</a></li><li><a href="#viii-efs" class="table-of-contents__link">VIII. EFS</a></li><li><a href="#x-efs-tips" class="table-of-contents__link">X. EFS Tips</a></li><li><a href="#xi-ebs-tips" class="table-of-contents__link">XI. EBS Tips</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/aws/styles.e3d237d5.js"></script>
<script src="/aws/runtime~main.5987bc8c.js"></script>
<script src="/aws/main.db8832c0.js"></script>
<script src="/aws/2.eacc328a.js"></script>
<script src="/aws/3.5084f581.js"></script>
<script src="/aws/66.73ad6aef.js"></script>
<script src="/aws/67.520034c4.js"></script>
<script src="/aws/935f2afb.52a1d31c.js"></script>
<script src="/aws/17896441.17a33e11.js"></script>
<script src="/aws/a4a26640.8cf94a4c.js"></script>
</body>
</html>