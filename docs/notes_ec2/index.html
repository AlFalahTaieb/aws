<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">EC2 | AWS SAA-C02 Ressources</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="EC2 | AWS SAA-C02 Ressources"><meta data-react-helmet="true" name="description" content="export const Highlight = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:description" content="export const Highlight = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:url" content="https://AlFalahTaieb.github.com/FAQ/docs/notes_ec2"><link data-react-helmet="true" rel="shortcut icon" href="/FAQ/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://AlFalahTaieb.github.com/FAQ/docs/notes_ec2"><link rel="stylesheet" href="/FAQ/styles.d664286d.css">
<link rel="preload" href="/FAQ/styles.e3d237d5.js" as="script">
<link rel="preload" href="/FAQ/runtime~main.e2ff413d.js" as="script">
<link rel="preload" href="/FAQ/main.40da985c.js" as="script">
<link rel="preload" href="/FAQ/2.eacc328a.js" as="script">
<link rel="preload" href="/FAQ/3.5084f581.js" as="script">
<link rel="preload" href="/FAQ/66.73ad6aef.js" as="script">
<link rel="preload" href="/FAQ/67.520034c4.js" as="script">
<link rel="preload" href="/FAQ/935f2afb.a6a00775.js" as="script">
<link rel="preload" href="/FAQ/17896441.17a33e11.js" as="script">
<link rel="preload" href="/FAQ/47766018.3da05085.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" target="_self" href="/FAQ/docs/start"><img class="navbar__logo" src="/FAQ/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/FAQ/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taieb</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" target="_self" href="/FAQ/docs/start"><img class="navbar__logo" src="/FAQ/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/FAQ/docs/">Docs</a></li><li class="menu__list-item"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taieb</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">AWS Certified Solutions Architect Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/start">Getting Started üèéÔ∏è</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/raz">Regions &amp; AZ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sg">Security Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_iam">IAM</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/FAQ/docs/notes_ec2">EC2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_asg">ASG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_elb">ELB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ebs_efs">EBS &amp; EFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_fsx">FSx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_s3">S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_storage_ex">Storage Extras</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_athena">Athena</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_datasync">DataSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cli_sdk">CLI &amp; SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_rds">RDS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_redshift">Redshift</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_lambda">Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_dynamodb">DynamoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_apig">API Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cognito">Cognito</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ec">ElastiCache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_r53">Route 53</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cf">CloudFront</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_bs">BeanStalk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sqs">SQS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sns">SNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_kenesis">Kenesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cw">CloudWAtch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ct">CloudTrail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_kms">KMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ssm">SSM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sw">Shield &amp; WAF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_vpc">VPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ecs">ECS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cfm">CloudFormation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ss">SWF &amp; Step Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_os">Other Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_dr">Disaster Recovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_hpc">HPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_fp">Five Pillars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes">Notes for AWS Certified Solutions Architect Associate</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">EC2</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="i-introduction"></a>I. Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#i-introduction" title="Direct link to heading">#</a></h2><ol><li><p>EC2 is the backbone of AWS and encompasses a bundle of services, mainly</p><ol><li>Renting virtual machines</li><li>Storing data on virtual drives (EBS)</li><li>Distributing load across machines (ELB)</li><li>Scaling the services using an auto scaling group (ASG)</li></ol></li><li><p>By default, an instance comes with</p><ol><li>Private IP for internal AWS network</li><li>Public IP for WWW</li></ol></li><li><p>EC2 instances can run scripts on startup based on <code>User Data</code>.</p></li><li><p>As per SLA, EC2 guarantees a monthly uptime of at least 99.99% with EBS in a region.</p></li><li><p>Offers variety of CPU options including AMD (x86), Intel (x86), ARM etc.</p></li><li><p>Loosely based on Linux KVM.</p></li><li><p>You can query the metadata (instance ID, network interface) by</p><ol><li>Run the command <code>$ curl[http://169.254.169.254/latest/meta-data/](http://169.254.169.254/latest/meta-data/)</code></li><li>Download and run the Instance Metadata Query Tool</li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ii-launch-types"></a>II. Launch Types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ii-launch-types" title="Direct link to heading">#</a></h2><ol><li><p><strong>On demand: short workload, predictable pricing</strong></p><ol><li>Pay for what you use</li><li>Has the <strong>highest</strong> cost but no upfront payment</li><li>No long term commitment</li><li>Perfect for &quot;elastic&quot; load</li><li>Analogy: Coming and staying in hotel whenever you want but pay full price.</li></ol></li><li><p><strong>Reserved (min 1 year)</strong></p><ol><li><p>Reserved Instance: long workloads</p></li><li><p><strong>Convertible Reserved Instance</strong></p><ol><li>Long workloads with flexible instances aka change configuration during the lifecycle</li><li>Only Convertible Reserved Instances can be exchanged for other Convertible Reserved Instances</li></ol></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Scheduled Reserved Instance</span>‚Äî every Thursday, 3p-6p</li><li><p>Up to 75% cheaper, pay upfront for 1-3 year period</p></li><li><p>Suitable for traditional IT uses</p></li><li><p>To take advantage of capacity reservation, you should buy RI in a specific AZ (zonal RI)</p></li><li><p>You can purchase RI for an already running instance</p></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">You can sell your RIs to other customers on AWS Marketplace if no longer needed</span></li><li><p>Analogy: Planning and booking way ahead of time to get a discount.</p></li></ol></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Spot: short workloads, cheap but unreliable</span>1. Spare instances with up to 90% savings than on-demand 2. <span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Can gracefully recover from instance failures!</span>3. Can be interrupted with 2-min notification. You can choose to either **stop**, **terminate** or **hibernate** your spot instance on termination. **Default is termination.** 4. Can request as many as the region allows 5. Useful for workloads resilient to failure e.g. batch jobs, image processing 6. Not great for critical jobs like databases 7. Define `max_spot_price` and get the instance while `current_spot_price` **QT** `max_spot_price` 8. The hourly price varies based on offer and capacity 9. When your bid is no longer the highest, you get a <span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">2-min window to either stop or terminate the instance (you will be billed closes to a second)</span>10. Should have enough RAM (EBS root volume) if you wish to hibernate 11. You can either request it &quot;once&quot; or &quot;persistent&quot; 12. Cannot use with third-party AMI but only AWS/MS/Linux AMIs 13. Only available for C, M and R classes 14. To cancel instances, make sure you cancel request first otherwise it will be an infinite loop where the request will be invoked to re-create the stopped/terminated instance 15. Analogy: Hotel allows bidding for empty rooms and highest bidder wins. You can be kicked out at any time. 16. <span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Spot Block allows you to request spot instances for specified duration from 1 to 6 hours. These instances are guaranteed to run without interruption for block duration requested. It offers 30 to 50% discount over on-demand pricing</span></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Spot fleets = set of spot instances + (optional) on-demand instances</span>1. Allows us to automatically request spot instances with the lowest price 2. Tries best to meet target capacity with price constraints 3. <span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Supports multi-AZ fleets but NOT multi-region</span>4. It first creates candidate pools (size, OS, AZ) and then picks the best candidate 5. Strategies to allocate spot pools 1. Lowest price: candidate with lowest price 2. Diversified: distributed across all pools (great availability for longer workloads) 3. Capacity optimized: Pool with optimal capacity for number of instances</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">EC2 fleet = same as Spot fleet, don&#x27;t migrate</span>1. Does not support multi-region fleet reservation 2. Can modify the fleet in &quot;maintenance&quot; mode</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Dedicated instances: No other customer will share your hardware</span>1. Run in a VPC on hardware that‚Äôs dedicated to a single customer. 2. Your Dedicated instances are physically isolated at the host hardware level from instances that belong to other AWS accounts. 3. May share hardware with other instances in the same account 4. <span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Automatic instance placement and billing is per instance.</span></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Dedicated hosts: book an entire physical server</span>1. Expensive 2. Visibility into the underlying **sockets and physical cores** of hardware 3. Full control over instance placement 4. Suitable for BYOL scenarios 5. <span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Billing is on a per-host basis (and not per instance)</span>6. Analogy: Book an entire building of hotel.</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Best combo: Reserved for baseline + On-demand/Spot for spikes</span></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iii-instant-types"></a>III. Instant Types<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iii-instant-types" title="Direct link to heading">#</a></h2><ol><li>R: Applications that need lots of RAM</li><li>C: Apps that need more compute</li><li>M: Middle between R and C</li><li>I: Lots of IO</li><li>G: Apps that need GPU power</li><li>P: Next generation GPU power (AI, ML, HPC)</li><li>F: FPGA-based, comes with Hardware Development Kit (HDK)</li><li>T2/T3: Burst-able instances (up to a capacity, uses burst credits)</li><li>T2/T3: Unlimited bursts (unlimited burst credits)</li><li>T4: Next-gen general purpose burst-able instances based on ARM, 40% more performance than T3</li><li>X: Ideal for running large in-memory databases</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iv-ec2-amis"></a>IV. EC2 AMIs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iv-ec2-amis" title="Direct link to heading">#</a></h2><ol><li><p>A custom AMI might be needed for</p><ol><li>Pre-installed packages</li><li>Faster boot time</li><li>Machine comes configured with monitoring/enterprise software</li><li>Security concerns</li><li>AD and LDAP config</li><li>Install app AoT</li></ol></li><li><p>You can rent AMIs or build your own. </p></li><li><p>Don&#x27;t blindly trust 3rd-party AMIs.</p></li><li><p>AMIs live in S3, inexpensive to store.</p></li><li><p>You can share AMIs across accounts. If Bob is the author and shares with Alice, then Alice cannot copy the AMI unless Bob has given her permission to EBS snapshot or S3.</p></li><li><p>However, if Alice creates an instance from Bob&#x27;s AMI and then creates an AMI based on that instance, then she&#x27;ll have a copy of that AMI.</p></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">You cannot copy an AMI with associated billing product eg Windows/Marketplace AMIs.</span> To do that, you&#x27;d need to launch an instance with that AMI and then store a copy.</li><li><p>AMIs are region-bound and the same ID cannot be used across regions.</p></li><li><p>If you want to launch instances with hefty setups frequently:</p><ol><li>create one instance</li><li>install stuff on it</li><li>create an AMI out of it and reuse it everywhere</li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="v-placement-groups"></a>V. Placement Groups<a aria-hidden="true" tabindex="-1" class="hash-link" href="#v-placement-groups" title="Direct link to heading">#</a></h2><p>Control over placement of instances (no direct HW interaction). There are three types.</p><ol><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Cluster</span><ol><li><strong>Clustered instances into a low latency group ina  single AZ.</strong></li><li>They are placed on the same rack.</li><li>Drawback: Single point of failure (rack).</li><li>It&#x27;s used in low latency apps like HPC, gamingand   video</li></ol></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Spread</span><ol><li>It&#x27;s the complete opposite of cluster</li><li>Instances are scattered across AZs.</li><li><strong>Limited to 7 instances per AZ per group.</strong></li><li><strong>Used in apps that need HA</strong></li></ol></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Partition</span><ol><li>Set of  partitions (racks) per AZ, up to 7.</li><li>Each partition has multiple instances.</li><li>One whole partition (rack) can fail but it won&#x27;t affect other partitions.</li><li>EC2 instances can get metadata regarding which partition they belong to.</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Used in Kafka, HBase, Cassandra and other distributed apps.</span></li></ol></li><li><p>It is recommended that you launch the number of instances that you need in the placement group in a single launch request and that you use the same instance type for all instances in the placement group. If you try to add more instances to the placement group later, or if you try to launch more than one instance type in the placement group, you increase your chances of getting an insufficient capacity error.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="vi-elastic-network-interface-eni"></a>VI. Elastic Network Interface (ENI)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vi-elastic-network-interface-eni" title="Direct link to heading">#</a></h2><ol><li><p>An elastic network interface (ENI) is a logical networking component in a VPC that represents a virtual network card. You can attach an ENI to an EC2 instance in the following ways:</p><ol><li>When it&#x27;s running (hot attach)</li><li>When it&#x27;s stopped (warm attach)</li><li>When the instance is being launched (cold attach)</li></ol></li><li><p>The ENI can have following attributes:</p><ol><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">One primary private IPv4 (eth0) and multiple secondary IPv4 (eth1, eth2 etc)</span></li><li>One public IPv4</li><li>One or more SG</li><li>A MAC address</li></ol></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">They are bound to an AZ</span></li><li><p>You can create a network interface, attach it to an instance, detach it from an instance, and attach it to another instance. When you move a network interface from one instance to another, network traffic is redirected to the new instance.</p></li><li><p>If the instance fails, you can attach the network interface to a hot standby instance. Because the interface maintains its private IP addresses, Elastic IP addresses, and MAC address, network traffic begins flowing to the standby instance as soon as you attach the network interface to the replacement instance. Users experience a brief loss of connectivity between the time the instance fails and the time that the network interface is attached to the standby instance, but no changes to the VPC route table or your DNS server are required.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="vii-hibernate"></a>VII. Hibernate<a aria-hidden="true" tabindex="-1" class="hash-link" href="#vii-hibernate" title="Direct link to heading">#</a></h2><ol><li><code>Stop</code>: Data on disk (EBS) is kept intact in the next start, RAM is cleared</li><li><code>Terminate</code>: Any EBS volume is destroyed</li><li><code>Hibernate</code>: <ol><li>Boot is faster as RAM is preserved. </li><li>Behind the scenes, the RAM is dumped on to EBS which is then loaded. </li><li>Supported families are C, M and R.</li><li>Useful for long running processes and services that take long to boot.</li><li>Instance RAM size must be less than 150 GB.</li><li>Not supported for bare metal instances.</li><li>Supports Amazon AMI2, Linux AMI and Windows.</li><li><strong>Root volume MUST be EBS and encrypted</strong>, not instance store and large.</li><li>Available for on-demand and reserved instances</li><li><strong>Cannot be hibernated for more than 60 days</strong></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">No special fee for hibernating</span></li><li><strong>Hibernated instances are in <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">Stop</span> state</strong></li></ol></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="viii-ec2-tips"></a>VIII. EC2 Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#viii-ec2-tips" title="Direct link to heading">#</a></h2><ol><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">EC2 instances are billed by second</span></li><li><p>Timeout issues are most likely due to SG issues</p></li><li><p>SSH login issue? Run <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">chmod</span> 400 on the <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">.pem</span> file.</p></li><li><p>One SG can refer other SG instead of IP ranges (popular exam question)</p></li><li><p>The start script is called <code>User Data</code></p></li><li><span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">RunInstance</span> is the API that launches instances</li><li><p>(New) AWS is moving on-demand instance limits from the current instance count-based limits to the new vCPU-based limits to simplify experience.</p></li><li><p>(New) AWS will be restricting email traffic on the default SMTP port 25 to prevent abuse.</p></li><li><p>When you terminate an instance, the root volume is flashed. It&#x27;s recommended to use S3 or EBS if you want to persist data.</p></li><li><p>EBS volume terminated immediately?</p><ol><li>You‚Äôve reached your EBS volume limit.</li><li>An EBS snapshot is corrupt.</li><li>The root EBS volume is encrypted and you do not have permissions to access the KMS key for decryption.</li><li>The instance store-backed AMI that you used to launch the instance is missing a required part (an image.part.xx file).</li></ol></li><li><p>If you&#x27;re using EBS volume as a root partition, you will need to set the <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">DeleteOnTerminate</span> flag to <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">False</span> to persist data outside the life of the instance.</p></li><li><p>By default, all accounts are limited to 5 elastic IPs per region, given the fact the public IPv4 are a scarce resource.</p></li><li><p>Even if you delete/terminate an instance, you can view its logs for up to 2 weeks in CloudWatch.</p></li><li><p>CloudWatch charges do not vary by instance type.</p></li><li><p>VM import/export enables customer to import VMs to create EC2 images and vice-versa. Both Windows and Linux VMs are supported.</p></li><li><p>Eventually, all EC2 will use AWS-provided Nitro hypervisor.</p></li><li><p>You can use existing Windows license with EC2.</p></li><li><p>You can use Compute Optimizer to get actionable insight on choosing the right EC2 class.</p></li><li><span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">Customer is responsible for patching EC2 OS.</span></li><li><span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">After exhausting burst-credits, your EC2 would be returned to the baseline capacity which might induce latency/throttle in your app.</span></li><li><p>For license that are tied to hardware socket and cores, you can use either dedicated hosts or bare metal instances.</p></li><li><p>When you recover an EC2 instance using CloudWatch alarm, the instance is moved to a different physical host. Instance has same metadata including public and private IP.</p></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Private IPv4 based communication inside an availability zone is Free. Intra-region pricing applies for any traffic between Availability Zones.</span></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">You are limited to running On-Demand Instances per your vCPU-based On-Demand Instance limit</span>, purchasing 20 Reserved Instances, and requesting Spot Instances per your dynamic Spot limit per region.</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">An Elastic IP address doesn‚Äôt incur charges as long as the following conditions are true:</span>1. The Elastic IP address is associated with an Amazon EC2 instance. 2. The instance associated with the Elastic IP address is running. 3. The instance has only one Elastic IP address attached to it.</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">If you‚Äôve stopped or terminated an EC2 instance with an associated Elastic IP address and you don‚Äôt need that Elastic IP address anymore, consider disassociating or releasing the Elastic IP address else you&#x27;ll be charged for it!</span></li><li><p>When an EC2 instance is stopped:</p><ol><li>The underlying host for the instance is possibly changed</li><li>All data on the attached instance-store devices will be lost</li><li>The ENI will stay attached</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">EIP will remain associated</span></li></ol></li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Metrics available through CloudWatch by default</span>1. CPU utilization 2. Disk reads 3. Network packets</li><li><span style="background-color:#FF9900;border-radius:2px;color:#fff;padding:0.2rem">Metrics available through CloudWatch Agent (or CloudWatch scripts)</span>1. Memory utilization 2. Disk swap utilization 3. Disk space utilization 4. Page file utilization 5. Log collection</li><li><p>You need to pay for</p><ol><li>Per instance hourly charge ‚Äî rounded to nearest second with a minimum of 1 minute</li><li>Data transfer</li><li>EBS volume</li></ol></li></ol><table><thead><tr><th>Tags</th><th>Billed</th></tr></thead><tbody><tr><td>On-demand instance preparing to hibernate with a <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">stopping</span> state</td><td>‚úÖ</td></tr><tr><td>An instance NOT in <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">running</span> state</td><td>‚úÖ</td></tr><tr><td>On-demand instance in  <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">pending</span> state</td><td>‚ùå</td></tr><tr><td>Spot instance preparing to stop with <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">stopping</span> state</td><td>‚ùå</td></tr><tr><td>Reserved instance in <span style="background-color:#5a5a5a;border-radius:7px;color:#FF9900;padding:0.3rem">terminated</span> instance</td><td>‚úÖ</td></tr></tbody></table></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/FAQ/docs/notes_iam"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ IAM</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/FAQ/docs/notes_asg"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ASG ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#i-introduction" class="table-of-contents__link">I. Introduction</a></li><li><a href="#ii-launch-types" class="table-of-contents__link">II. Launch Types</a></li><li><a href="#iii-instant-types" class="table-of-contents__link">III. Instant Types</a></li><li><a href="#iv-ec2-amis" class="table-of-contents__link">IV. EC2 AMIs</a></li><li><a href="#v-placement-groups" class="table-of-contents__link">V. Placement Groups</a></li><li><a href="#vi-elastic-network-interface-eni" class="table-of-contents__link">VI. Elastic Network Interface (ENI)</a></li><li><a href="#vii-hibernate" class="table-of-contents__link">VII. Hibernate</a></li><li><a href="#viii-ec2-tips" class="table-of-contents__link">VIII. EC2 Tips</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/FAQ/styles.e3d237d5.js"></script>
<script src="/FAQ/runtime~main.e2ff413d.js"></script>
<script src="/FAQ/main.40da985c.js"></script>
<script src="/FAQ/2.eacc328a.js"></script>
<script src="/FAQ/3.5084f581.js"></script>
<script src="/FAQ/66.73ad6aef.js"></script>
<script src="/FAQ/67.520034c4.js"></script>
<script src="/FAQ/935f2afb.a6a00775.js"></script>
<script src="/FAQ/17896441.17a33e11.js"></script>
<script src="/FAQ/47766018.3da05085.js"></script>
</body>
</html>