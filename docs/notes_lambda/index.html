<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Lambda | AWS SAA-C02 Ressources</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Lambda | AWS SAA-C02 Ressources"><meta data-react-helmet="true" name="description" content="export const Quote = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:description" content="export const Quote = ({ children, color }) =&gt; ("><meta data-react-helmet="true" property="og:url" content="https://AlFalahTaieb.github.com/FAQ/docs/notes_lambda"><link data-react-helmet="true" rel="shortcut icon" href="/FAQ/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://AlFalahTaieb.github.com/FAQ/docs/notes_lambda"><link rel="stylesheet" href="/FAQ/styles.d664286d.css">
<link rel="preload" href="/FAQ/styles.e3d237d5.js" as="script">
<link rel="preload" href="/FAQ/runtime~main.e2ff413d.js" as="script">
<link rel="preload" href="/FAQ/main.40da985c.js" as="script">
<link rel="preload" href="/FAQ/2.eacc328a.js" as="script">
<link rel="preload" href="/FAQ/3.5084f581.js" as="script">
<link rel="preload" href="/FAQ/66.73ad6aef.js" as="script">
<link rel="preload" href="/FAQ/67.520034c4.js" as="script">
<link rel="preload" href="/FAQ/935f2afb.a6a00775.js" as="script">
<link rel="preload" href="/FAQ/17896441.17a33e11.js" as="script">
<link rel="preload" href="/FAQ/af070c23.5fd42844.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" target="_self" href="/FAQ/docs/start"><img class="navbar__logo" src="/FAQ/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/FAQ/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taieb</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">üåû</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" target="_self" href="/FAQ/docs/start"><img class="navbar__logo" src="/FAQ/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">AWS SAA-C02 Ressources</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/FAQ/docs/">Docs</a></li><li class="menu__list-item"><a href="https://alfelah.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taieb</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">AWS Certified Solutions Architect Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/start">Getting Started üèéÔ∏è</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/raz">Regions &amp; AZ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sg">Security Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_iam">IAM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ec2">EC2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_asg">ASG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_elb">ELB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ebs_efs">EBS &amp; EFS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_fsx">FSx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_s3">S3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_storage_ex">Storage Extras</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_athena">Athena</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_datasync">DataSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cli_sdk">CLI &amp; SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_rds">RDS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_redshift">Redshift</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/FAQ/docs/notes_lambda">Lambda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_dynamodb">DynamoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_apig">API Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cognito">Cognito</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ec">ElastiCache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_r53">Route 53</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cf">CloudFront</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_bs">BeanStalk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sqs">SQS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sns">SNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_kenesis">Kenesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cw">CloudWAtch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ct">CloudTrail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_kms">KMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ssm">SSM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_sw">Shield &amp; WAF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_vpc">VPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ecs">ECS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_cfm">CloudFormation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_ss">SWF &amp; Step Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_os">Other Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_dr">Disaster Recovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_hpc">HPC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes_fp">Five Pillars</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/FAQ/docs/notes">Notes for AWS Certified Solutions Architect Associate</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Lambda</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pillars-of-serverless"></a>Pillars of serverless<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pillars-of-serverless" title="Direct link to heading">#</a></h2><ol><li>Lambda</li><li>DynamoDB</li><li>Cognito</li><li>API Gateway</li><li>SAM</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="i-introduction"></a>I. Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#i-introduction" title="Direct link to heading">#</a></h2><ol><li><p>Virtual functions ‚Äî no servers to manage.</p></li><li><p>Limited by time ‚Äî short executions (15 mins max).</p></li><li><p>Run on-demand, scaling is automated.</p></li><li><p>Easy pricing</p><ol><li>Pay per request and compute time</li><li>Free tier includes 1 million lambda requests and 400,000 GBs of compute time.</li></ol></li><li><p>Integrated with the whole AWS suite of services and popular languages (except Docker).</p></li><li><p>Easy monitoring with CloudWatch.</p></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Each Lambda function receives 500MB of non-persistent disk space in its own `/tmp` directory.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Easy to get more resources per function (up to 3GB RAM).</span></li><li><p>AWS Lambda allows you to use normal language and operating system features, such as creating additional threads and processes.</p></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">You can automate your serverless application‚Äôs release process using AWS CodePipeline and AWS CodeDeploy.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">You can use AWS Step Functions to coordinate a series of AWS Lambda functions in a specific order.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">You can enable your Lambda function for tracing with AWS X-Ray. This will provide you with insights such as Lambda service overhead, function init time, and function execution time.</span></li><li><p>Execution</p><ol><li>Memory allocation: 128 MB - 3 GB (in increments of 64 MBs)</li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Maximum execution time: 900s (15 mins)</span></li><li>Env variables (up to 4 KB)</li><li>Disk capacity in the &quot;function container&quot; (/tmp): 512 MB</li><li>Concurrency execution: 1000 (can be increased)</li></ol></li><li><p>Deployment</p><ol><li>Lambda function deployment size (compressed zip): 50 MB</li><li>Size of uncompressed deployment (code + deps): 250 MB</li><li>Can use <code>/tmp</code> to load other files at startup</li></ol></li><li><p>Pay per calls</p><ol><li>First one million requests are free</li><li>$0.20 per 1 million requests thereafter</li></ol></li><li><p>Pay per duration</p><ol><li>400K GB-seconds of compute time per month if free</li><li>After that, $1 for 600K GB-s</li></ol></li></ol><p><img alt="Lambda AWS" src="/FAQ/assets/images/lambda1-5bd5ffe12e2873a6728bb93da5c22be5.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ii-lambdaedge"></a>II. Lambda@Edge<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ii-lambdaedge" title="Direct link to heading">#</a></h2><ol><li><p>Deploy lambda function alongside your CloudFront CDN</p></li><li><p>Use cases</p><ol><li>Website security and privacy</li><li>Dynamic web application at edge</li><li>Globally distributed viewers</li><li>SEO</li><li>Intelligent routing</li><li>Bot mitigation at edge</li><li>Real-time image transformation</li><li>A/B testing</li><li>User auth</li><li>User prioritization</li><li>User tracking and analytics</li></ol></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Customize CDN content by editing Viewer and Origin requests and responses (event source for lambda)</span></li></ol><p><img alt="Lambda AWS" src="/FAQ/assets/images/lambda2-8210c1a66ae492323b5605d435bbff02.png">
<img alt="Lambda AWS" src="/FAQ/assets/images/lambda3-a67dcfb711f7412aaaa4036bf54e147e.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="iii-use-cases"></a>III. Use cases<a aria-hidden="true" tabindex="-1" class="hash-link" href="#iii-use-cases" title="Direct link to heading">#</a></h2><p><strong>a. Blog</strong></p><p><img alt="Lambda AWS" src="/FAQ/assets/images/lambda4-7350044f4ebb31371884fdb40c929b65.png"></p><p><strong>b. Microservices</strong></p><p><img alt="Lambda AWS" src="/FAQ/assets/images/lambda5-9b0dd1c408b447367b64ff95274c4bd6.png"></p><ol><li>You are free to design each microservice the way you want.</li><li>Sync pattern: API Gateway, Load balancers</li><li>Async pattern: SQS, Kinesis, SNS, Lambda triggers</li><li>Challenges<ol><li>Repeated overhead for creating new service</li><li>Issues with optimizing server density/utilization</li><li>Complexity of running multiple versions at once</li><li>Proliferation of client-side code requirements to integrate with many separate services</li></ol></li></ol><p><strong>c. Distributing paid content</strong></p><p><img alt="Lambda AWS" src="/FAQ/assets/images/lambda6-d6c1a0f19478cf959f0f9083e426058a.png"></p><p><strong>d. Big data ingestion pipeline</strong></p><p><img alt="Lambda AWS" src="/FAQ/assets/images/lambda7-7b7b7ff051fc1fc71da08d6afb00c36e.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="v-lambda-tips"></a>V. Lambda Tips<a aria-hidden="true" tabindex="-1" class="hash-link" href="#v-lambda-tips" title="Direct link to heading">#</a></h2><ol><li><p>To encrypt env variables, the Lambda console makes it easier for you by providing encryption helpers that leverage KMS to store the sensitive information as cipher text.</p></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Environment variables are always encrypted at rest through KMS. When your Lambda function is invoked, those values are decrypted and made available to the Lambda code.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Lambda supports both sync and async invocations.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Event source mapping maps an event source to a lambda function for auto invocation.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Event source mapping is available for Kinesis, DynamoDB and SQS.</span></li><li><p>To ensure the function always achieves a certain level of concurrency, you can configure the function with <span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">reserved concurrency</span> 1000 concurrent executions are free.</p></li><li><p>To enable your function to scale without fluctuations in latency, use <span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">provisioned concurrency.</span>Provisioned Concurrency is ideal for building latency-sensitive applications, such as web or mobile backends, synchronously invoked APIs, and interactive microservices.</p></li><li><p>By default, lambda runs code in a VPC.</p></li><li><p>Versions and aliases are secondary resources that you can create to manage function deployment and invocation.</p></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">A layer is a zip archive that contains libraries, custom runtime or other dependencies.</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">You can monitor total request invocations, iterator size and latency by default using CloudWatch.</span></li><li><p>Lambda function automatically scales based on the number of events it processes. If your Lambda function accesses a VPC, you must make sure that your VPC has sufficient ENI capacity to support the scale requirements of your Lambda function. It is also recommended that you specify at least one subnet in each Availability Zone in your Lambda function configuration.</p></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">EC2 needs to invoke lambda in an async way? Use SNS!</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Lambda stores code in S3 and encrypts at rest.</span></li><li><p>On exceeding the throttle limit, AWS Lambda functions being invoked synchronously will return a throttling error (<code>429</code> error code).</p></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">On failure, Lambda functions being invoked synchronously will respond with an exception. Lambda functions being invoked asynchronously are retried at least 3 times.</span></li><li><p>AWS Lambda offers a single version of the operating system and managed language runtime to all users of the service.</p></li><li><p>AWS Lambda is integrated with AWS CloudTrail. AWS CloudTrail can record and deliver log files to your Amazon S3 bucket describing the API usage of your account.</p></li><li><p>To create a lambda, you first package your code and dependencies in a deployment package. Then, you upload the deployment package to create your lambda function.</p></li><li><p>After your lambda is in production, lambda automatically monitors function on your behalf, reporting metrics through CloudWatch.</p></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">To enable your lambda to access resources inside your VPC, you must provide:</span><ol><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">VPC subnet ID</span></li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">VPC security group ID</span></li></ol></li><li><p>If you&#x27;re using the AWS Lambda compute platform, you must choose one of the following deployment configuration types to specify how traffic is shifted from the original AWS Lambda function version to the new AWS Lambda function version:</p><ol><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Canary</span>: Traffic is shifted in two increments. You can choose from predefined canary options that specify the percentage of traffic shifted to your updated Lambda function version in the first increment and the interval, in minutes, before the remaining traffic is shifted in the second increment.</li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">Linear</span>: Traffic is shifted in equal increments with an equal number of minutes between each increment. You can choose from predefined linear options that specify the percentage of traffic shifted in each increment and the number of minutes between each increment.</li><li><span style="background-color:#5a5a5a;border-radius:8px;color:#FF9900;padding:0.21rem">All-at-once</span>: All traffic is shifted from the original Lambda function to the updated Lambda function version at once.</li></ol></li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/FAQ/docs/notes_redshift"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Redshift</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/FAQ/docs/notes_dynamodb"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">DynamoDB ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pillars-of-serverless" class="table-of-contents__link">Pillars of serverless</a></li><li><a href="#i-introduction" class="table-of-contents__link">I. Introduction</a></li><li><a href="#ii-lambdaedge" class="table-of-contents__link">II. Lambda@Edge</a></li><li><a href="#iii-use-cases" class="table-of-contents__link">III. Use cases</a></li><li><a href="#v-lambda-tips" class="table-of-contents__link">V. Lambda Tips</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/FAQ/styles.e3d237d5.js"></script>
<script src="/FAQ/runtime~main.e2ff413d.js"></script>
<script src="/FAQ/main.40da985c.js"></script>
<script src="/FAQ/2.eacc328a.js"></script>
<script src="/FAQ/3.5084f581.js"></script>
<script src="/FAQ/66.73ad6aef.js"></script>
<script src="/FAQ/67.520034c4.js"></script>
<script src="/FAQ/935f2afb.a6a00775.js"></script>
<script src="/FAQ/17896441.17a33e11.js"></script>
<script src="/FAQ/af070c23.5fd42844.js"></script>
</body>
</html>